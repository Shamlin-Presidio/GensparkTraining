2025-06-04 12:39:26,917 [1] ERROR Microsoft.Extensions.Hosting.Internal.Host - Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5186: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-06-04 12:39:49,888 [1] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5186
2025-06-04 12:39:49,926 [1] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-06-04 12:39:49,927 [1] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-06-04 12:39:49,927 [1] INFO Microsoft.Hosting.Lifetime - Content root path: /Users/shamlin/GensparkTraining/03-06-2025/AN/FirstAPI
2025-06-04 12:40:41,368 [.NET TP Worker] ERROR Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware - An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'FirstApi.Interfaces.IAppointmentService' while attempting to activate 'FirstAPI.Controllers.AppointmentController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-04 12:46:10,711 [.NET Signal Handler] INFO Microsoft.Hosting.Lifetime - Application is shutting down...
2025-06-04 12:46:18,947 [1] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5186
2025-06-04 12:46:18,981 [1] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-06-04 12:46:18,982 [1] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-06-04 12:46:18,982 [1] INFO Microsoft.Hosting.Lifetime - Content root path: /Users/shamlin/GensparkTraining/03-06-2025/AN/FirstAPI
2025-06-04 12:50:40,938 [.NET TP Worker] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (66ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Appointments" ("AppointmentNumber", "AppointmentDateTime", "DoctorId", "PatientId", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-06-04 12:51:01,670 [.NET TP Worker] ERROR Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware - An unhandled exception has occurred while executing the request.
System.Exception: Claim not found
   at FirstApi.Policies.Handlers.HasEnoughExperienceHandler.HandleRequirementAsync(AuthorizationHandlerContext context, HasEnoughExperienceRequirement requirement) in /Users/shamlin/GensparkTraining/03-06-2025/AN/FirstAPI/Policies/Handlers/HasEnoughExperienceHandler.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationHandler`1.HandleAsync(AuthorizationHandlerContext context)
   at Microsoft.AspNetCore.Authorization.DefaultAuthorizationService.AuthorizeAsync(ClaimsPrincipal user, Object resource, IEnumerable`1 requirements)
   at Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator.AuthorizeAsync(AuthorizationPolicy policy, AuthenticateResult authenticationResult, HttpContext context, Object resource)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-04 12:51:35,711 [.NET TP Worker] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Username", u."HashKey", u."Password", u."Role"
FROM "Users" AS u
WHERE u."Username" = @__key_0
LIMIT 2
2025-06-04 12:52:09,281 [.NET TP Worker] ERROR Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware - An unhandled exception has occurred while executing the request.
System.Exception: Claim not found
   at FirstApi.Policies.Handlers.HasEnoughExperienceHandler.HandleRequirementAsync(AuthorizationHandlerContext context, HasEnoughExperienceRequirement requirement) in /Users/shamlin/GensparkTraining/03-06-2025/AN/FirstAPI/Policies/Handlers/HasEnoughExperienceHandler.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationHandler`1.HandleAsync(AuthorizationHandlerContext context)
   at Microsoft.AspNetCore.Authorization.DefaultAuthorizationService.AuthorizeAsync(ClaimsPrincipal user, Object resource, IEnumerable`1 requirements)
   at Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator.AuthorizeAsync(AuthorizationPolicy policy, AuthenticateResult authenticationResult, HttpContext context, Object resource)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-04 13:21:55,122 [.NET Signal Handler] INFO Microsoft.Hosting.Lifetime - Application is shutting down...
2025-06-04 13:22:04,780 [1] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5186
2025-06-04 13:22:04,818 [1] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-06-04 13:22:04,819 [1] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-06-04 13:22:04,819 [1] INFO Microsoft.Hosting.Lifetime - Content root path: /Users/shamlin/GensparkTraining/03-06-2025/AN/FirstAPI
2025-06-04 13:22:10,529 [.NET TP Worker] ERROR Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware - An unhandled exception has occurred while executing the request.
System.Exception: Claim not found
   at FirstApi.Policies.Handlers.HasEnoughExperienceHandler.HandleRequirementAsync(AuthorizationHandlerContext context, HasEnoughExperienceRequirement requirement) in /Users/shamlin/GensparkTraining/03-06-2025/AN/FirstAPI/Policies/Handlers/HasEnoughExperienceHandler.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationHandler`1.HandleAsync(AuthorizationHandlerContext context)
   at Microsoft.AspNetCore.Authorization.DefaultAuthorizationService.AuthorizeAsync(ClaimsPrincipal user, Object resource, IEnumerable`1 requirements)
   at Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator.AuthorizeAsync(AuthorizationPolicy policy, AuthenticateResult authenticationResult, HttpContext context, Object resource)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-04 13:22:22,957 [.NET TP Worker] ERROR Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware - An unhandled exception has occurred while executing the request.
System.Exception: Claim not found
   at FirstApi.Policies.Handlers.HasEnoughExperienceHandler.HandleRequirementAsync(AuthorizationHandlerContext context, HasEnoughExperienceRequirement requirement) in /Users/shamlin/GensparkTraining/03-06-2025/AN/FirstAPI/Policies/Handlers/HasEnoughExperienceHandler.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationHandler`1.HandleAsync(AuthorizationHandlerContext context)
   at Microsoft.AspNetCore.Authorization.DefaultAuthorizationService.AuthorizeAsync(ClaimsPrincipal user, Object resource, IEnumerable`1 requirements)
   at Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator.AuthorizeAsync(AuthorizationPolicy policy, AuthenticateResult authenticationResult, HttpContext context, Object resource)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-04 13:22:52,372 [.NET TP Worker] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (59ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Appointments" ("AppointmentNumber", "AppointmentDateTime", "DoctorId", "PatientId", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-06-04 13:23:19,697 [.NET TP Worker] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Username", u."HashKey", u."Password", u."Role"
FROM "Users" AS u
WHERE u."Username" = @__key_0
LIMIT 2
2025-06-04 13:23:45,583 [.NET TP Worker] ERROR Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware - An unhandled exception has occurred while executing the request.
System.Exception: Claim not found
   at FirstApi.Policies.Handlers.HasEnoughExperienceHandler.HandleRequirementAsync(AuthorizationHandlerContext context, HasEnoughExperienceRequirement requirement) in /Users/shamlin/GensparkTraining/03-06-2025/AN/FirstAPI/Policies/Handlers/HasEnoughExperienceHandler.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationHandler`1.HandleAsync(AuthorizationHandlerContext context)
   at Microsoft.AspNetCore.Authorization.DefaultAuthorizationService.AuthorizeAsync(ClaimsPrincipal user, Object resource, IEnumerable`1 requirements)
   at Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator.AuthorizeAsync(AuthorizationPolicy policy, AuthenticateResult authenticationResult, HttpContext context, Object resource)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-04 13:28:25,167 [.NET Signal Handler] INFO Microsoft.Hosting.Lifetime - Application is shutting down...
2025-06-04 13:28:35,026 [1] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5186
2025-06-04 13:28:35,062 [1] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-06-04 13:28:35,062 [1] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-06-04 13:28:35,062 [1] INFO Microsoft.Hosting.Lifetime - Content root path: /Users/shamlin/GensparkTraining/03-06-2025/AN/FirstAPI
2025-06-04 13:28:56,981 [.NET TP Worker] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__key_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Username", u."HashKey", u."Password", u."Role"
FROM "Users" AS u
WHERE u."Username" = @__key_0
LIMIT 2
2025-06-04 13:29:15,515 [.NET TP Worker] ERROR Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware - An unhandled exception has occurred while executing the request.
System.Exception: Claim not found
   at FirstApi.Policies.Handlers.HasEnoughExperienceHandler.HandleRequirementAsync(AuthorizationHandlerContext context, HasEnoughExperienceRequirement requirement) in /Users/shamlin/GensparkTraining/03-06-2025/AN/FirstAPI/Policies/Handlers/HasEnoughExperienceHandler.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationHandler`1.HandleAsync(AuthorizationHandlerContext context)
   at Microsoft.AspNetCore.Authorization.DefaultAuthorizationService.AuthorizeAsync(ClaimsPrincipal user, Object resource, IEnumerable`1 requirements)
   at Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator.AuthorizeAsync(AuthorizationPolicy policy, AuthenticateResult authenticationResult, HttpContext context, Object resource)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-04 13:30:48,885 [.NET Signal Handler] INFO Microsoft.Hosting.Lifetime - Application is shutting down...
2025-06-04 13:30:57,453 [1] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5186
2025-06-04 13:30:57,488 [1] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-06-04 13:30:57,489 [1] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-06-04 13:30:57,489 [1] INFO Microsoft.Hosting.Lifetime - Content root path: /Users/shamlin/GensparkTraining/03-06-2025/AN/FirstAPI
2025-06-04 13:31:01,904 [.NET TP Worker] ERROR Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware - An unhandled exception has occurred while executing the request.
System.Exception: Claim not found
   at FirstApi.Policies.Handlers.HasEnoughExperienceHandler.HandleRequirementAsync(AuthorizationHandlerContext context, HasEnoughExperienceRequirement requirement) in /Users/shamlin/GensparkTraining/03-06-2025/AN/FirstAPI/Policies/Handlers/HasEnoughExperienceHandler.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationHandler`1.HandleAsync(AuthorizationHandlerContext context)
   at Microsoft.AspNetCore.Authorization.DefaultAuthorizationService.AuthorizeAsync(ClaimsPrincipal user, Object resource, IEnumerable`1 requirements)
   at Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator.AuthorizeAsync(AuthorizationPolicy policy, AuthenticateResult authenticationResult, HttpContext context, Object resource)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-04 13:34:13,393 [.NET TP Worker] ERROR Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware - An unhandled exception has occurred while executing the request.
System.Exception: Claim not found
   at FirstApi.Policies.Handlers.HasEnoughExperienceHandler.HandleRequirementAsync(AuthorizationHandlerContext context, HasEnoughExperienceRequirement requirement) in /Users/shamlin/GensparkTraining/03-06-2025/AN/FirstAPI/Policies/Handlers/HasEnoughExperienceHandler.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationHandler`1.HandleAsync(AuthorizationHandlerContext context)
   at Microsoft.AspNetCore.Authorization.DefaultAuthorizationService.AuthorizeAsync(ClaimsPrincipal user, Object resource, IEnumerable`1 requirements)
   at Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator.AuthorizeAsync(AuthorizationPolicy policy, AuthenticateResult authenticationResult, HttpContext context, Object resource)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-04 13:44:20,402 [.NET Signal Handler] INFO Microsoft.Hosting.Lifetime - Application is shutting down...
2025-06-04 13:44:30,188 [1] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5186
2025-06-04 13:44:30,227 [1] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-06-04 13:44:30,228 [1] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-06-04 13:44:30,228 [1] INFO Microsoft.Hosting.Lifetime - Content root path: /Users/shamlin/GensparkTraining/03-06-2025/AN/FirstAPI
2025-06-04 13:45:20,956 [.NET TP Worker] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (55ms) [Parameters=[@__key_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Username", u."HashKey", u."Password", u."Role", d."Id", d."Email", d."Name", d."Status", d."YearsOfExperience", p."Id", p."Age", p."Email", p."Name", p."Phone", p."UserId"
FROM "Users" AS u
LEFT JOIN "Doctors" AS d ON u."Username" = d."Email"
LEFT JOIN "Patients" AS p ON u."Username" = p."Email"
WHERE u."Username" = @__key_0
LIMIT 2
2025-06-04 13:45:46,499 [.NET TP Worker] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT d."Id", d."Email", d."Name", d."Status", d."YearsOfExperience"
FROM "Doctors" AS d
WHERE d."Id" = @__key_0
LIMIT 2
2025-06-04 13:45:46,616 [.NET TP Worker] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='Text', CommandTimeout='30']
SELECT a."AppointmentNumber", a."AppointmentDateTime", a."DoctorId", a."PatientId", a."Status"
FROM "Appointments" AS a
WHERE a."AppointmentNumber" = @__key_0
LIMIT 2
2025-06-04 13:45:46,751 [.NET TP Worker] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p0='?'], CommandType='Text', CommandTimeout='30']
DELETE FROM "Appointments"
WHERE "AppointmentNumber" = @p0;
2025-06-04 13:45:55,360 [.NET TP Worker] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT d."Id", d."Email", d."Name", d."Status", d."YearsOfExperience"
FROM "Doctors" AS d
WHERE d."Id" = @__key_0
LIMIT 2
2025-06-04 13:45:55,363 [.NET TP Worker] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='Text', CommandTimeout='30']
SELECT a."AppointmentNumber", a."AppointmentDateTime", a."DoctorId", a."PatientId", a."Status"
FROM "Appointments" AS a
WHERE a."AppointmentNumber" = @__key_0
LIMIT 2
2025-06-04 13:46:09,648 [.NET TP Worker] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Appointments" ("AppointmentNumber", "AppointmentDateTime", "DoctorId", "PatientId", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-06-04 13:46:33,650 [.NET TP Worker] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT d."Id", d."Email", d."Name", d."Status", d."YearsOfExperience"
FROM "Doctors" AS d
WHERE d."Id" = @__key_0
LIMIT 2
2025-06-04 13:46:33,654 [.NET TP Worker] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='Text', CommandTimeout='30']
SELECT a."AppointmentNumber", a."AppointmentDateTime", a."DoctorId", a."PatientId", a."Status"
FROM "Appointments" AS a
WHERE a."AppointmentNumber" = @__key_0
LIMIT 2
2025-06-04 13:46:33,657 [.NET TP Worker] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?'], CommandType='Text', CommandTimeout='30']
DELETE FROM "Appointments"
WHERE "AppointmentNumber" = @p0;
2025-06-04 13:46:58,525 [.NET TP Worker] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (21ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT d."Id", d."Email", d."Name", d."Status", d."YearsOfExperience"
FROM "Doctors" AS d
WHERE d."Id" = @__key_0
LIMIT 2
2025-06-04 13:46:58,533 [.NET TP Worker] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?'], CommandType='Text', CommandTimeout='30']
SELECT a."AppointmentNumber", a."AppointmentDateTime", a."DoctorId", a."PatientId", a."Status"
FROM "Appointments" AS a
WHERE a."AppointmentNumber" = @__key_0
LIMIT 2
2025-06-04 13:46:58,536 [.NET TP Worker] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?'], CommandType='Text', CommandTimeout='30']
DELETE FROM "Appointments"
WHERE "AppointmentNumber" = @p0;
2025-06-04 13:47:07,775 [.NET Signal Handler] INFO Microsoft.Hosting.Lifetime - Application is shutting down...
